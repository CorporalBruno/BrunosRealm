icecave:
  type: world
  debug: false
  events:
    on player places block in icecaveladder:
    - if <context.material.name> != ladder {
      - narrate "<&5>Bob<&f> Ladders are obviously the only thing that will work here."
      - determine cancelled
      } else {
      - narrate "<&5>Bob<&f> Let's see if we can navigate this parkour course."
      }
    on player breaks block in icecaveladder:
    - narrate "<&5>Bob<&f> Those are the only ladders we have."
    - determine cancelled
    on player damages block in icecaveladder:
    - narrate "<&5>Bob<&f> Those are the only ladders we have."
    - determine cancelled
    on player enters snowcover:
    - modifyblock cu@icecaveladder2 m@air
    on player enters snowcover2:
    - modifyblock cu@snowcover m@air
    - narrate "--You feel the ground shift beneath your feet."
    - wait 4
    - narrate "<&4><&l>Loki<&f> Oh no! You should have been more careful than to walk out on that ice!"
    - wait 4
    - narrate "<&4><&l>Loki<&f> <player.name>, Try to find a new way out... If you can... Muhahaha.."
    on player enters cavein:
    - modifyblock cu@snowcover m@packed_ice
    on player enters caveinexit:
    - narrate "<&4><&l>Loki<&f> That was fun."
    - wait 1
    - narrate "<&4><&l>Loki<&f> Kind of surprised you even made it out."
    - wait 2
    - narrate "<&4><&l>Loki<&f> Well, <player.name> now what? Which way do you go? Muhahaha..."
    on player enters caveinchoose:
    - narrate "<&4><&l>Loki<&f> Hmmm.. which way, left or right?"
    on player enters caveinright:
    - narrate "<&4><&l>Loki<&f> I see you have made your decision..."
    on player enters caveinleft:
    - narrate "<&4><&l>Loki<&f> Muhaha!"